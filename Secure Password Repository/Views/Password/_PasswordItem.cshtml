@using Microsoft.AspNet.Identity;
@using Secure_Password_Repository.Settings;
@model Secure_Password_Repository.ViewModels.PasswordItem

<li class="treelistitem" id="@Model.PasswordId" data-type="Password">
    <div class="ui-accordion-header ui-state-default ui-corner-all ui-accordion-icons ui-sortable-handle first">
        <span>
            <span class="ui-accordion-header-icon ui-icon"></span>
            <i class="glyphicon glyphicon-credit-card rightfolderpadding"></i><span class="categoryname">@Model.Description</span>
        </span>
        <span class="btn-group">
            <a href="#" class="btn btn-xs btn-default" onclick="deletePassword('@Model.PasswordId');return false;"><i class="glyphicon glyphicon-eye-open">&nbsp;</i>View</a>
            @if (@Model.Parent_UserPasswords.First().CanEditPassword || @Model.Creator_Id == int.Parse(User.Identity.GetUserId()))
            {
                <a href="#" class="btn btn-xs btn-primary" onclick="displayForm('@Model.PasswordId');return false;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Edit</a>
            }
            @if (@Model.Parent_UserPasswords.First().CanDeletePassword || @Model.Creator_Id == int.Parse(User.Identity.GetUserId()))
            {
                <a href="#" class="btn btn-xs btn-danger" onclick="deletePassword('@Model.PasswordId');return false;"><i class="glyphicon glyphicon-remove">&nbsp;</i>Delete</a>
            }
        </span>
    </div>
</li>


